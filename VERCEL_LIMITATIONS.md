# Vercel 部署限制说明

## 🚨 重要提醒

Vercel 是一个**无服务器（Serverless）**平台，具有以下限制：

### 文件系统限制
- ✅ **只读文件系统**：部署后的文件系统是只读的
- ❌ **不能创建目录**：无法动态创建新的分类文件夹
- ❌ **不能上传文件**：无法通过网页界面上传新图片（包括大批量上传功能）
- ❌ **不能修改文件**：无法在运行时修改服务器文件
- ❌ **大批量上传限制**：虽然本地支持2000张图片批量上传，但Vercel平台完全禁用此功能

## 🔧 解决方案

### 1. 添加新分类
**云端不支持动态创建分类，需要手动操作：**

1. 在本地项目的 `images/` 目录下创建新的分类文件夹
   ```
   images/
   ├── 现有分类1/
   ├── 现有分类2/
   └── 新分类名称/  ← 手动创建
   ```

2. 将更改推送到 GitHub
   ```bash
   git add .
   git commit -m "添加新分类: 新分类名称"
   git push
   ```

3. Vercel 会自动重新部署，新分类将出现在网站上

### 2. 添加新图片
**云端不支持文件上传（包括大批量上传），需要手动操作：**

1. 将图片文件添加到本地对应的分类文件夹中
   ```
   images/
   └── 分类名称/
       ├── 现有图片.jpg
       ├── 新图片1.jpg  ← 手动添加
       ├── 新图片2.jpg  ← 可批量添加多张
       └── ...更多图片   ← 支持大量图片
   ```

2. 将更改推送到 GitHub（注意：大量图片可能需要较长时间）
   ```bash
   git add .
   git commit -m "批量添加图片到分类: 分类名称"
   git push
   ```

3. Vercel 会自动重新部署，所有新图片将出现在网站上

**大批量图片处理建议：**
- 本地可一次性添加2000张图片
- 推送前确保网络稳定
- 大文件推送可能需要30分钟以上
- 建议分批推送，每次500-1000张

## 📋 推荐工作流程

### 管理员操作流程
1. **本地管理**：在本地环境中添加分类和图片
2. **测试验证**：在本地启动服务器测试功能
3. **推送部署**：将更改推送到 GitHub，触发自动部署
4. **通知用户**：告知标注人员新内容已上线

### 标注人员操作
- ✅ **正常标注**：可以正常进行图片标注
- ✅ **导出数据**：可以导出标注结果
- ✅ **查看统计**：可以查看标注进度
- ❌ **添加内容**：无法添加新分类或上传新图片

## 🔄 数据持久化

### 当前状态
- 标注数据保存在 `labels.json` 文件中
- ⚠️ **重要**：每次重新部署时，标注数据可能会丢失

### 建议方案
1. **定期备份**：管理员定期下载 `labels.json` 文件
2. **升级数据库**：考虑使用 Firebase 或 Supabase 等云数据库

## 💡 替代方案

如果需要完整的文件管理功能，考虑以下替代部署方案：

### 1. 传统云服务器
- **阿里云 ECS**
- **腾讯云 CVM**
- **AWS EC2**

### 2. 容器化部署
- **Docker + 云服务器**
- **Railway**
- **Render**

### 3. 静态站点 + 云存储
- **Vercel + 云存储服务**
- **Netlify + Firebase Storage**

## 📞 技术支持

如果需要实现完整的文件管理功能，建议：
1. 评估实际需求
2. 选择合适的部署方案
3. 考虑升级到支持文件操作的平台

---

**总结**：Vercel 适合静态内容展示和标注功能，但不适合需要动态文件管理的场景。对于图片标注工具，建议将内容管理（添加分类/图片）在本地完成，云端专注于标注功能。